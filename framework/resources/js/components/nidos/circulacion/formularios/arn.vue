<template>
	<div class="row">
		<div class="col-lg-8 offset-lg-2">
			<div class="text-center m-2">
				<img src="https://nidos.gov.co/sites/default/files/logo_nidos.png">
			</div>
			<div class="card">
				<div class="card-header bg-info"><i class="fas fa-handshake fa-2x"></i> AUTORIZACIÓN</div>
				<div class="card-body">
					<div class="form-row">
						<div class="form-group col-lg-12">
							<label>Autorización para el uso de datos - Programa Nidos</label>

							<p>La presente autorización para el tratamiento de datos personales establece los términos y condiciones en virtud de los cuales el INSTITUTO DISTRITAL DE LAS ARTES (en adelante IDARTES), que actuará como responsable del tratamiento, identificado con el NIT No. 900.413.030-9 y con domicilio en la Carrera 8 No. 15 – 46, de la ciudad de Bogotá, Con dirección electrónica https://www.idartes.gov.co/, realizará el tratamiento de sus datos personales y en tal virtud podrá, recolectar, almacenar y usar, transferir o trasmitir, en ejercicio del objetivo y deberes encargados al IDARTES en virtud del acuerdo 440 del 24 de junio de 2010, del Consejo de Bogotá y en desarrollo de las siguientes finalidades:</p>

							<ol>
								<li><p>TRATAMIENTO Y FINALIDAD:</p></li>
								<dl>
									<dd>1.1. Finalidades Especificas del programa NIDOS.</dd>
									<dd>a. Efectuar gestiones pertinentes para el desarrollo del objeto social del IDARTES, a través del programa “Nidos - Arte en Primera Infancia", gestiones que consisten en el desarrollo de atenciones por medio de experiencias artísticas presenciales y virtuales con el objetivo de aportar Oficina Asesora Jurídica al desarrollo y a la formación integral del ser, en niños y niñas menores de 6 años, junto con sus familiares y/o adultos cuidadores, maestros, artistas y demás agentes que se encuentren en contacto con esta población.</dd>
									<dd>b. Almacenar los datos que sean necesarios, para cumplir con deberes legales a los cuales este sujeto el IDARTES, en desarrollo de los objetivos y deberes asignados por el acuerdo 440 del Consejo Superior de Bogotá y las demás normas que correspondan al cumplimiento de su misión.</dd>
									<dd>c. Gestionar trámites relacionados a peticiones, quejas o reclamos de los titulares de los datos, o de sus representantes legales.</dd>
									<dd>d. Contactar al titular o su representante legal para el envió de información referente al cambio de la finalidad o en la política de protección de datos personales de la entidad.</dd>
									<dd>e. Contactar al titular de los datos o a su representante legal para informar, de nuevas iniciativas en cabeza de la entidad, cuyo objeto guarde relación con el proyecto NIDOS arte en primera infancia.</dd>
									<dd>f. Prestar los demás servicios ofrecidos por el programa “Nidos - Arte en Primera Infancia”, los cuales fueron informados al titular y su representante legal en su totalidad.</dd>
									<dd>g. El IDARTES también podrá intercambiar información personal con autoridades gubernamentales o públicas de otro tipo (incluidas, entre otras autoridades judiciales o administrativas, autoridades fiscales y organismos de investigación penal, civil, administrativa, disciplinaria y fiscal) y terceros participantes de las actividades, para las que fueron Oficina Asesora Jurídica recolectados, para cumplir con leyes vigentes; procesos jurídicos; para responder a las solicitudes de autoridades.</dd>
								</dl>

								<dl>
									<dd>1.2. Finalidades Generales establecidas por el Instituto Distrital de las Artes- IDARTES, en su política de protección de datos personales.</dd>
									<dd>a. Para permitir el desarrollo del objeto y las funciones, en cabeza del Instituto Distrital de las Artes (IDARTES), en los términos contenidos en Acuerdos No. 440 de 2010 “por el cual se crea el Instituto Distrital de las Artes” y el Acuerdo No. 02 del 2017 “Por el cual se modifica la estructura organizacional del Instituto Distrital de las Artes- IDARTES”.</dd>
									<dd>b. Lograr una eficiente comunicación, en lo relacionada con los planes, programas, proyectos y trámites administrativos misionales, relacionados con las funciones propias del IDARTES</dd>
									<dd>c. Desarrollar los estudios previos y procesos de selección para la contratación oficial del IDARTES, destinada a garantizar el funcionamiento de la entidad y la ejecución y/o desarrollo de programas, planes y proyectos.</dd>
									<dd>d. Realizar la selección, contratación y/o vinculación de servidores públicos y contratistas de prestación de servicios de la entidad.</dd>
									<dd>e. Formular, ejecutar y evaluar los programas de salud ocupacional y planes de atención de emergencias.</dd>
									<dd>f. Mantener actualizada la historia laboral y registros de nómina de funcionarios del IDARTES. </dd>
									<dd>g. Adelantar estudios y análisis estadísticos. Oficina Asesora Jurídica</dd>
									<dd>h. Recopilar información de ciudadanos asistentes a capacitaciones, eventos y demás actividades desarrolladas por la entidad</dd>
									<dd>i. Atención de requerimientos judiciales o administrativos y el cumplimiento de mandatos judiciales o legales.</dd>
									<dd>j. Defensa del IDARTES en las acciones prejudiciales o judiciales que se adelanten en su contra.</dd>
									<dd>k. Enviar información de interés general.</dd>
									<dd>l. Dar respuesta a las peticiones, quejas, reclamos, denuncias, sugerencias o felicitaciones presentados a la entidad.</dd>
									<dd>m. Alimentar los Sistemas de Información.</dd>
									<dd>n. Conocer y consultar la información del titular que repose en bases de datos de entidades públicas o privadas. </dd>
									<dd>o. Caracterizar ciudadanos y grupos de interés y adelantar estrategias de mejoramiento en la prestación de los servicios a cargo del IDARTES.</dd>
									<dd>p. Conservar evidencia de los eventos, reuniones internas y externas, programas, planes y proyectos, realizados por el IDARTES.</dd>
									<dd>q. Efectuar la convocatoria y dejar evidencia de la realización de sesiones de rendición de cuentas y participación ciudadana.</dd>
									<dd>r. Medir y realizar seguimiento a los niveles de satisfacción de los usuarios de los servicios proporcionados por el IDARTES, a través de encuestas. Oficina Asesora Jurídica</dd>
									<dd>s. Para el uso de los servicios digitales que sean ofrecidos por el IDARTES, a través de su portal web https://www.idartes.gov.co/, u otros portales relacionados con proyectos, programas y planes desarrollados por la entidad.</dd>
									<dd>t. Registrar o autorizar el ingreso a las instalaciones del IDARTES.</dd>
									<dd>u. Para informa cambios sustanciales en el contenido de las políticas de tratamiento de datos personales de la entidad, que puedan afectar el contenido de la autorización, para la que fueron recolectados.</dd>
									<dd>v. De requerirse una finalidad distinta a las mencionadas en la presente política, esta debe ser acorde a la misionalidad, funciones y/o obligaciones legales en cabeza de la entidad y es obligación de la entidad informarla al titular de los datos en la autorización para la recolección de datos personales, que se le dará a conocer al momento de solicitar los datos requeridos para dicho fin.</dd>
								</dl>
								<li><p>DERECHOS DEL TITULAR:</p></li>
								<p>Sus derechos como titular de los datos son los previstos en la Constitución y la Ley 1581 de 2012, especialmente los siguientes:</p>
								<dl>
									<dd>a. Conocer, actualizar y rectificar sus datos personales frente a los Responsables del Tratamiento o Encargados del Tratamiento. Este derecho se podrá ejercer, entre otros frente a datos parciales, inexactos, incompletos,</dd>fraccionados, que induzcan a error, o aquellos cuyo Tratamiento esté expresamente prohibido o no haya sido autorizado. 
									<dd>b. Solicitar prueba de la autorización otorgada al Responsable del Tratamiento salvo cuando expresamente se exceptúe como requisito para el Tratamiento, de conformidad con lo previsto en el artículo 10 de la citada ley</dd>Oficina Asesora Jurídica 
									<dd>c. Ser informado por el Responsable del Tratamiento o el Encargado del Tratamiento, previa solicitud, respecto del uso que le ha dado a sus datos personales.</dd>
									<dd>d. Presentar ante la Superintendencia de Industria y Comercio quejas por infracciones a lo dispuesto en la citada ley y las demás normas que la modifiquen, adicionen o complementen.</dd>
									<dd>e. Revocar la autorización y/o solicitar la supresión del dato cuando en el Tratamiento no se respeten los principios, derechos y garantías constitucionales y legales. La revocatoria y/o supresión procederá cuando la </dd>Superintendencia de Industria y Comercio haya determinado que en el Tratamiento el Responsable o Encargado han incurrido en conductas contrarias a esta ley y a la Constitución 
									<dd>f. Acceder en forma gratuita a sus datos personales que hayan sido objeto de Tratamiento.</dd>
									<dd>g. Abstenerse de responder las preguntas sobre datos sensibles.</dd>
									<dd>h. Tendrán carácter facultativo las respuestas que versen sobre datos sensibles o sobre datos de las niñas, niños y adolescentes. Estos derechos lo podrán ejercer, utilizando los procedimientos de consultas, reclamos y peticiones determinados en la Política de Protección de Datos Personales del IDARTES, en el capítulo III, articulo 21 y 22, la cual podrá encontrar en nuestro sitio web: https://www.idartes.gov.co/. Por medio de los siguientes canales de atención:<br><br>

										Tipo de canal: Presenciales<br>
										Ubicación: Punto de atención al ciudadano<br>
										Mecanismo: Cra 8 No. 15 - 46 Bogotá - Colombia<br>
										Horario de atención: Lunes a Viernes 7:00 a.m. a 4:30 p.m.<br><br>

										Tipo de canal: Virtuales<br>
										Ubicación: Página web. <br>
										Mecanismo:	<a href="https://idartes.gov.co/es/formulario/contactenos">https://idartes.gov.co/es/formulario/contactenos</a>	<br>
										Horario de atención: Permanente<br><br>

										Tipo de canal: Virtuales<br>
										Ubicación: Correo institucional<br>
										Mecanismo: <a href="mailto:contactenos@idartes.gov.co">contactenos@idartes.gov.co</a><br>
										Horario de atención: Permanente<br><br>

										Tipo de canal: Servicio Postal<br>
										Ubicación: Remisión PQRSD a través de servicios postales.<br>
										Mecanismo: En la recepción ubicada en el primer piso del punto de atención al ciudadano en la Cra 8 No. 15 - 46 Bogotá - Colombia<br>
										Horario de atención: Lunes a Viernes 7:00 a.m. a 4:30 p.m.<br><br>
									</dd>
								</dl>
								<li><p>SOBRE EL INTERÉS SUPERIOR DE LOS MENORES DE EDAD Y EL TRATAMIENTO DE DATOS SENSIBLES:</p></li>
								<p>Manifiesto que, para recolectar la información de carácter sensible de niños, niñas y adolescentes, el IDARTES, me indicó por medio del presente documento que el tratamiento de dichos datos obedece al ejercicio del Interés Superior de los menores, y que dicho tratamiento se realiza de conformidad con sus derechos fundamentales contenidos en el artículo 44 de la Constitución Política Colombiana y conforme a las directrices de la jurisprudencia y las demás normativas concordantes. Adicionalmente manifiesto que El IDARTES me informó que tengo derecho a contestar o no las preguntas que me formulen y a entregar o no los datos solicitados.</p>
								<p>Entiendo que un dato sensible es todo dato personal que afectan la intimidad del titular o pueden dar lugar a que lo discriminen, es decir, aquellos que revelan su origen racial o étnico, su orientación política, las convicciones religiosas o filosóficas, la pertenencia a sindicatos, organizaciones sociales, de derechos humanos, así como los datos relativos a la salud, a la vida sexual, y los datos biométricos, entre otros. O los que traten sobre información de niños, niñas y adolescentes, diferente a la información de carácter público. En virtud de todo lo mencionado con anterioridad, he otorgado mi consentimiento al Instituto Distrital de las Artes- IDARTES, en ejercicio de la patria potestad y con custodia permanente definida en el artículo 288 del Código Civil Colombiano, para que trate la información personal del menor al que represento de acuerdo con la Política de Tratamiento de Datos Personales, dispuesta por el IDARTES en medio electrónico en la página web https://www.idartes.gov.co y que medió a conocer antes de recolectar mis datos personales. Adicionalmente otorgo autorización para que mis datos personales sean tratados, de acuerdo con las finalidades expuestas en la presente autorización. Manifiesto que la presente autorización me fue solicitada y puesta de presente antes de entregar los datos y que la suscribo de forma libre y voluntaria una vez leída en su totalidad.</p>
							</ol>
						</div>
					</div>
					<div class="form-row justify-content-center">
						<div class="form-group">
							<div class="custom-control custom-radio custom-control-inline">
								<input v-model="form.acepta_politicas" value="1" type="radio" id="radioButtonSi" name="politicas" class="custom-control-input" v-on:change="showCardDatosContacto()">
								<label class="custom-control-label" for="radioButtonSi">SI acepto que los datos sean recopilados y tratados</label>
							</div>
							<div class="custom-control custom-radio custom-control-inline">
								<input v-model="form.acepta_politicas" value="0" type="radio" id="radioButtonNo" name="politicas" class="custom-control-input" v-on:change="showCardDatosContacto()">
								<label class="custom-control-label" for="radioButtonNo">NO acepto que los datos sean recopilados y tratados</label>
							</div>
						</div>
					</div>
				</div>
			</div>
			<form @submit="guardarSolicitud">
				<div class="card" v-show="vf.card_datos_contacto">
					<div class="card-header bg-info"><i class="fas fa-info fa-2x"></i> DATOS DE CONTACTO (Información de los padres o adultos cuidadores)</div>
					<div class="card-body">
						<div class="form-row">
							<div class="form-group col-lg-12">
								<label class="required">Primer nombre</label>
								<input v-model="form.primer_nombre_cuidador" class="form-control" type="text" required @input="form.primer_nombre_cuidador=form.primer_nombre_cuidador.toUpperCase()">
							</div>
						</div>
						<div class="form-row">
							<div class="form-group col-lg-12">
								<label>Segundo nombre</label>
								<input v-model="form.segundo_nombre_cuidador" class="form-control" type="text" @input="form.segundo_nombre_cuidador=form.segundo_nombre_cuidador.toUpperCase()">
							</div>
						</div>
						<div class="form-row">
							<div class="form-group col-lg-12">
								<label class="required">Primer apellido</label>
								<input v-model="form.primer_apellido_cuidador" class="form-control" type="text" required @input="form.primer_apellido_cuidador=form.primer_apellido_cuidador.toUpperCase()">
							</div>
						</div>
						<div class="form-row">
							<div class="form-group col-lg-12">
								<label>Segundo apellido</label>
								<input v-model="form.segundo_apellido_cuidador" class="form-control" type="text" @input="form.segundo_apellido_cuidador=form.segundo_apellido_cuidador.toUpperCase()">
							</div>
						</div>
						<div v-show="vf.acepta_politicas_datos_contacto">
							<div class="form-row">
								<div class="form-group col-lg-12">
									<label :class="{'required' : vf.acepta_politicas_datos_contacto}">¿Qué tipo de identificación tiene?</label>
									<multiselect v-model="form.tipo_documento_cuidador" label="text" :options="options_tipo_documento" placeholder="Seleccione una opción" :show-labels="false" track-by="value"></multiselect>
								</div>
							</div>
							<div class="form-row">
								<div class="form-group col-lg-12">
									<label :class="{'required' : vf.acepta_politicas_datos_contacto}">¿Cuál es su número de documento?</label>
									<input v-model="form.numero_documento_cuidador" class="form-control" type="text" :required="vf.acepta_politicas_datos_contacto">
								</div>
							</div>
							<div class="form-row">
								<div class="form-group col-lg-12">
									<label :class="{'required' : vf.acepta_politicas_datos_contacto}">¿Cuál es su dirección de correo electrónico?</label>
									<input v-model="form.correo_cuidador" class="form-control" type="email" :required="vf.acepta_politicas_datos_contacto">
								</div>
							</div>
						</div>
						<div class="form-row">
							<div class="form-group col-lg-12">
								<label class="required">¿A qué número telefónico podemos comunicarnos con usted?</label>
								<input v-model="form.numero_cuidador" class="form-control" type="number" required>
							</div>
						</div>
						<div class="no-acepta-politicas" v-show="vf.no_acepta_politicas">
							<div class="form-row">
								<div class="form-group col-lg-12">
									<label :class="{'required' : vf.no_acepta_politicas}">¿Cuenta con WhatsApp?</label>
									<div class="form-group">
										<div class="custom-control custom-radio">
											<input v-model="form.whatsapp" value="Si" type="radio" id="rbWhastappSi" name="whatsapp" class="custom-control-input" :required="vf.no_acepta_politicas">
											<label class="custom-control-label" for="rbWhastappSi">Si</label>
										</div>
										<div class="custom-control custom-radio">
											<input v-model="form.whatsapp" value="No" type="radio" id="rbWhastappNo" name="whatsapp" class="custom-control-input" :required="vf.no_acepta_politicas">
											<label class="custom-control-label" for="rbWhastappNo">No</label>
										</div>
									</div>
								</div>
							</div>
						</div>
						<div class="form-row">
							<div class="form-group col-lg-12">
								<label class="required">¿A quién va dirigida la atención de Nidos?</label>
								<div class="form-group">
									<div class="custom-control custom-radio">
										<input v-model="form.dirigido" value="2" type="radio" id="rbNino" name="dirigido" class="custom-control-input" :required="vf.no_acepta_politicas" v-on:change="showCardParentesco()" required>
										<label class="custom-control-label" for="rbNino">Niño</label>
									</div>
									<div class="custom-control custom-radio">
										<input v-model="form.dirigido" value="3" type="radio" id="rbNina" name="dirigido" class="custom-control-input" :required="vf.no_acepta_politicas" v-on:change="showCardParentesco()" required>
										<label class="custom-control-label" for="rbNina">Niña</label>
									</div>
									<div class="custom-control custom-radio">
										<input v-model="form.dirigido" value="1" type="radio" id="rbMujer" name="dirigido" class="custom-control-input" :required="vf.no_acepta_politicas" v-on:change="showCardParentesco()" required>
										<label class="custom-control-label" for="rbMujer">Mujer gestante</label>
									</div>
								</div>
							</div>
						</div>	
					</div>
				</div>
				<div class="card" v-show="vf.card_parentesco">
					<div class="card-header bg-info"><i class="fas fa-user-shield fa-2x"></i> SOBRE EL PARENTESCO (Niño o niña a quien va dirigida la atención de Nidos)</div>
					<div class="card-body">
						<div class="form-row">
							<div class="form-group col-lg-6">
								<label :class="{'required' : vf.card_parentesco}">¿Cuál es su relación de parentesco?</label>
								<multiselect v-model="form.parentesco" label="text" @input="validateOtroParentesco()" :options="options_parentesco" placeholder="Seleccione una opción" :show-labels="false" track-by="value"></multiselect>
							</div>
							<div class="form-group col-lg-6">
								<label :class="{'required' : required_otro_parentesco}">Otro ¿Cuál?</label>
								<input v-model="form.otro_parentesco" class="form-control" type="text" :readonly="readonly_otro_parentesco" :required="required_otro_parentesco">
							</div>
						</div>
						<div class="form-row">
							<div class="form-group col-lg-12">
								<label :class="{'required' : vf.card_parentesco}">¿Tiene usted la patria potestad?</label>
								<div class="form-group">
									<div class="custom-control custom-radio">
										<input v-model="form.potestad" value="1" type="radio" id="rbPatriaSi" name="patria" class="custom-control-input" :required="vf.card_parentesco" v-on:change="showCardDatosBeneficiario()">
										<label class="custom-control-label" for="rbPatriaSi">Si</label>
									</div>
									<div class="custom-control custom-radio">
										<input v-model="form.potestad" value="0" type="radio" id="rbPatriaNo" name="patria" class="custom-control-input" :required="vf.card_parentesco" v-on:change="showCardDatosBeneficiario()">
										<label class="custom-control-label" for="rbPatriaNo">No</label>
									</div>
								</div>
							</div>
						</div>
					</div>
				</div>
				<div class="card" v-show="vf.card_datos_beneficiario">
					<div class="card-header bg-info"><i class="fas fa-child fa-2x"></i> INFORMACIÓN GENERAL SOBRE LA PERSONA QUE RECIBE LA ATENCIÓN DE NIDOS (Niño, niña o mujer gestante)</div>
					<div class="card-body">
						<div class="si-acepta-politicas" v-show="vf.acepta_politicas_potestad">
							<div class="form-row">
								<div class="form-group col-lg-12">
									<label :class="{'required' : vf.acepta_politicas_potestad}">Primer nombre</label>
									<input v-model="form.primer_nombre_beneficiario" :required="vf.acepta_politicas_potestad" class="form-control" type="text" @input="form.primer_nombre_beneficiario=form.primer_nombre_beneficiario.toUpperCase();">
								</div>
							</div>
							<div class="form-row">
								<div class="form-group col-lg-12">
									<label>Segundo Nombre</label>
									<input v-model="form.segundo_nombre_beneficiario" class="form-control" type="text" @input="form.segundo_nombre_beneficiario=form.segundo_nombre_beneficiario.toUpperCase();">
								</div>
							</div>
							<div class="form-row">
								<div class="form-group col-lg-12">
									<label :class="{'required' : vf.acepta_politicas_potestad}">Primer apellido</label>
									<input v-model="form.primer_apellido_beneficiario" :required="vf.acepta_politicas_potestad" class="form-control" type="text" @input="form.primer_apellido_beneficiario=form.primer_apellido_beneficiario.toUpperCase();">
								</div>
							</div>
							<div class="form-row">
								<div class="form-group col-lg-12">
									<label>Segundo apellido</label>
									<input v-model="form.segundo_apellido_beneficiario" class="form-control" type="text" @input="form.segundo_apellido_beneficiario=form.segundo_apellido_beneficiario.toUpperCase();">
								</div>
							</div>
							<div class="form-row">
								<div class="form-group col-lg-12">
									<label :class="{'required' : vf.acepta_politicas_potestad}">Tipo de documento</label>
									<multiselect v-model="form.tipo_documento_beneficiario" label="text" :options="options_tipo_documento" placeholder="Seleccione una opción" :show-labels="false" track-by="value"></multiselect>
								</div>
							</div>
							<div class="form-row">
								<div class="form-group col-lg-12">
									<label :class="{'required' : vf.acepta_politicas_potestad}">Número de documento</label>
									<input v-model="form.numero_documento_beneficiario" class="form-control" type="text" :required="vf.acepta_politicas_potestad">
								</div>
							</div>
						</div>
						<div class="form-row">
							<div class="form-group col-lg-12">
								<label class="required">Fecha de Nacimiento</label>
								<input v-model="form.fecha_nacimiento_beneficiario" class="form-control" type="date" required>
							</div>
						</div>
						<div class="si-acepta-politicas" v-show="vf.acepta_politicas">
							<div class="form-row">
								<div class="form-group col-lg-12">
									<label>Dirección de residencia. (Al ser un dato sensible, no está obligado a suministrar esta información)</label>
									<input v-model="form.direccion_beneficiario" class="form-control" type="text">
								</div>
							</div>
						</div>
						<div class="form-row">
							<div class="form-group col-lg-12">
								<label class="required">Localidad de residencia</label>
								<multiselect v-model="form.localidad_beneficiario" label="text" :options="options_localidad" @input="getBarriosLocalidad()" placeholder="Seleccione una opción" :show-labels="false" track-by="value"></multiselect>
							</div>
						</div>
						<div class="form-row">
							<div class="form-group col-lg-12">
								<label class="required">Barrio de residencia</label>
								<multiselect v-model="form.barrio_beneficiario" label="text" :options="options_barrio" @input="getUpzBarrio()" placeholder="Seleccione una opción" :show-labels="false" track-by="value"></multiselect>
							</div>
						</div>
						<div class="no-acepta-politicas" v-show="vf.no_acepta_politicas">
							<div class="form-row">
								<div class="form-group col-lg-12">
									<label>¿Le gustaría contarnos alguna información adicional?</label>
									<textarea v-model="form.informacion_adicional" class="form-control"></textarea>
								</div>
							</div>

						</div>
						<div class="si-acepta-politicas" v-show="vf.acepta_politicas">
							<div class="form-row">
								<div class="form-group col-lg-12">
									<label :class="{'required' : vf.acepta_politicas}">Estrato socioeconómico de la residencia</label>
									<multiselect v-model="form.estrato_beneficiario" label="text" :options="options_estrato" placeholder="Seleccione una opción" :show-labels="false" track-by="value"></multiselect>
								</div>
							</div>
							<div class="form-row">
								<div class="form-group col-lg-12">
									<label :class="{'required' : vf.acepta_politicas}">¿Se reconoce en una de las siguientes poblaciones o características?</label>
									<multiselect v-model="form.enfoque_beneficiario" label="text" :options="options_enfoque" placeholder="Seleccione una opción" :show-labels="false" track-by="value"></multiselect>
								</div>
							</div>
						</div>
					</div>
				</div>
				<div class="form-row" v-show="form.acepta_politicas != ''">
					<div class="form-group col-lg-6 offset-lg-3">
						<button class="btn btn-block btn-primary" type="submit">Enviar</button>
					</div>
				</div>
			</form>
		</div>
	</div>
</template>
<script>

	// require( 'jszip' );
	// require( 'datatables.net-dt' );
	// require( 'datatables.net-buttons-dt' );
	// require( 'datatables.net-buttons/js/buttons.html5.js' );
	// require( 'datatables.net-responsive-dt' );

	import Multiselect from "vue-multiselect";
	export default {
		components: { Multiselect },
		data () {
			return {
				form:{
				//variables cuidador
				primer_nombre_cuidador: "",
				segundo_nombre_cuidador: "",
				primer_apellido_cuidador: "",
				segundo_apellido_cuidador: "",
				tipo_documento_cuidador: "",
				numero_documento_cuidador: "",
				correo_cuidador: "",
				numero_cuidador: "",
				parentesco: "",
				otro_parentesco: "",
				potestad: "",
				dirigido: "",
				acepta_politicas: "",

				//variables beneficiario
				primer_nombre_beneficiario: "",
				segundo_nombre_beneficiario: "",
				primer_apellido_beneficiario: "",
				segundo_apellido_beneficiario: "",
				tipo_documento_beneficiario: "",
				numero_documento_beneficiario: "",
				fecha_nacimiento_beneficiario: "",
				direccion_beneficiario: "",
				localidad_beneficiario: "",
				barrio_beneficiario: "",
				upz_beneficiario: "",
				informacion_adicional: "",
				estrato_beneficiario: "",
				enfoque_beneficiario: "",
				whatsapp: "",
			},
			//options selects
			options_tipo_documento: [],
			options_localidad: [],
			options_barrio: [],
			options_enfoque: [],
			options_parentesco: [
			{value: 1, text: "Padre o madre"},
			{value: 2, text: "Tío o tía"},
			{value: 3, text: "Abuelo o abuela"},
			{value: 6, text: "Otro"}
			],
			options_estrato: [],

			//Variables de funcionamiento del formulario
			vf:{
				acepta_politicas_potestad: false,
				acepta_politicas: false,
				no_acepta_politicas: false,
				card_datos_contacto: false,
				card_parentesco: false,
				card_datos_beneficiario: false,
				acepta_politicas_datos_contacto: false
			},
			required_otro_parentesco: "",
			readonly_otro_parentesco: "",
		}
	},
	mounted() {
		this.getParametroDetalle(5);
		this.getParametroDetalle(14);
		this.getParametroDetalle(19);
		this.getParametroDetalle(53);
	},
	methods: {
		showCardDatosContacto(){
			this.vf.card_datos_contacto = true;
			this.vf.card_datos_beneficiario = false;
			this.vf.card_parentesco = false;
			this.form.dirigido = "";
			this.vf.acepta_politicas_datos_contacto = this.form.acepta_politicas == 1 ? true : false;
			this.vf.no_acepta_politicas = this.form.acepta_politicas == 1 ? false : true; 
		},
		showCardParentesco(){
			this.form.potestad = "";
			this.form.parentesco = "";
			this.form.primer_nombre_beneficiario = "";
			this.form.segundo_nombre_beneficiario = "";
			this.form.primer_apellido_beneficiario = "";
			this.form.segundo_apellido_beneficiario = "";
			this.form.tipo_documento_beneficiario = "";
			this.form.numero_documento_beneficiario = "";
			this.vf.card_parentesco = false;
			this.vf.card_datos_beneficiario = false;
			this.vf.acepta_politicas = false;
			this.vf.acepta_politicas_potestad = false;
			if(this.form.dirigido != 1 && this.form.acepta_politicas == 1){
				this.vf.card_parentesco = true;
			}else{
				this.vf.card_datos_beneficiario = true;
				this.vf.acepta_politicas = (this.form.dirigido == 1 && this.form.acepta_politicas == 1) ? true : false;
			}
		},
		showCardDatosBeneficiario(){
			this.vf.card_datos_beneficiario = true;
			this.vf.acepta_politicas = true;
			this.vf.acepta_politicas_potestad = this.form.potestad == 1 ? true : false;
		},
		validateOtroParentesco(){
			this.readonly_otro_parentesco = this.form.parentesco["value"] == 6 ? false : true;
			this.required_otro_parentesco = this.form.parentesco["value"] == 6 ? true : false;
			if(this.form.parentesco["value"] != 6)
				this.form.otro_parentesco = "";
		},
		getParametroDetalle(FK_Id_Parametro){
				//5 tipo documento
				//19 localidades
				//53 estratos
				//14 enfoques diferenciales
				axios
				.post("/sif/framework/options/getParametroDetalle", {
					"X-CSRF-TOKEN": $('meta[name="csrf-token"]').attr("content"),
					"FK_Id_Parametro": FK_Id_Parametro,
					"programa": "nidos"
				})
				.then(response => {
					switch(FK_Id_Parametro){
						case 5:
						this.options_tipo_documento = response.data;
						break;
						case 14:
						this.options_enfoque = response.data;
						break;
						case 19:
						this.options_localidad = response.data;
						break;
						case 53:
						this.options_estrato = response.data;
						break;
					}
				})
				.catch(error => {
					Swal.fire("Error", "No se pudo obtener la información, por favor inténtelo nuevamente", "error");
				});
			},
			getBarriosLocalidad(){
				this.form.barrio_beneficiario = "";
				axios
				.post("/sif/framework/getBarriosLocalidad", {
					"X-CSRF-TOKEN": $('meta[name="csrf-token"]').attr("content"),
					"id_localidad": this.form.localidad_beneficiario.value
				})
				.then(response => {
					this.options_barrio = response.data;
				})
				.catch(error => {
					Swal.fire("Error", "No se pudo obtener el listado de barrios, por favor inténtelo nuevamente", "error");
				});
			},
			getUpzBarrio(){
				this.form.upz_beneficiario = "";
				axios
				.post("/sif/framework/getUpzBarrio", {
					"X-CSRF-TOKEN": $('meta[name="csrf-token"]').attr("content"),
					"id_barrio": this.form.barrio_beneficiario.value
				})
				.then(response => {
					this.form.upz_beneficiario = response.data.FK_Id_Upz;
				})
				.catch(error => {
					
				});
			},
			guardarSolicitud: function(e){
				e.preventDefault();

				let v_acepta_politicas_datos_contacto = 0;
				let v_parentesco = 0;
				let v_acepta_politicas_potestad = 0;
				let v_acepta_politicas = 0;

				if(this.vf.acepta_politicas_datos_contacto == true && this.form.tipo_documento_cuidador == ""){
					Swal.fire("Error","Compruebe que ha seleccionado su tipo de documento","error");
					v_acepta_politicas_datos_contacto++;
				}
				
				if(this.vf.card_parentesco == true && this.form.parentesco == ""){
					Swal.fire("Error","Compruebe que ha seleccionado el parentesco","error");	
					v_parentesco++;
				}

				if(this.vf.acepta_politicas_potestad == true && this.form.tipo_documento_beneficiario == ""){
					Swal.fire("Error","Compruebe que ha seleccionado el tipo de documento del beneficiario","error");
					v_acepta_politicas_potestad++;
				}

				if( this.form.localidad_beneficiario == ""){
					Swal.fire("Error","Compruebe que ha seleccionado la localidad de residencia del beneficiario","error");
					v_acepta_politicas++;
				}

				if( this.form.barrio_beneficiario == ""){
					Swal.fire("Error","Compruebe que ha seleccionado el barrio de residencia del beneficiario","error");
					v_acepta_politicas++;
				}

				if(this.vf.acepta_politicas == true && this.form.estrato_beneficiario == ""){
					Swal.fire("Error","Compruebe que ha seleccionado el estrato de la residencia del beneficiario","error");
					v_acepta_politicas++;
				}

				if(this.vf.acepta_politicas == true && this.form.enfoque_beneficiario == ""){
					Swal.fire("Error","Compruebe que ha seleccionado el enfoque del beneficiario","error");
					v_acepta_politicas++;
				}

				if(v_acepta_politicas_datos_contacto == 0 && v_parentesco == 0 && v_acepta_politicas_potestad == 0 && v_acepta_politicas == 0){
					axios
					.post("/sif/framework/nidos/formularios/arn/guardarSolicitud", {
						"X-CSRF-TOKEN": $('meta[name="csrf-token"]').attr("content"),
						"form": JSON.stringify(this.form)
					})
					.then(response => {
						Swal.fire("Éxito", "Se ha guardado la información correctamente, pronto uno de nuestros artistas se comunicará contigo al número telefónico diligenciado en el formulario", "success");
						Object.keys(this.form).forEach( key => {
							this.form[key] = "";
						});
						Object.keys(this.vf).forEach( key => {
							this.vf[key] = "";
						});
					})
					.catch(error => {
						Swal.fire("Error", "No se pudo guardar la información, por favor inténtelo nuevamente", "error");
					});
				}
			}
		}
	}
</script>
<style type="text/css">
.required:after {
	content:" *";
	color: red;
}
</style>